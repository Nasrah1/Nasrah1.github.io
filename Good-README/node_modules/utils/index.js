import { writeFile } from "fs";
import pkg from 'inquirer';
import generateMarkdown from "utils/generateMarkdown";

const { prompt } = pkg;


//Array of question for users
const questions = [{
        type: "input",
        message: "Project name is?",
        name: "Title"
    },
    {
        type: "input",
        message: "Project Description",
        name: "Description"
    },
    {
        type: "input",
        message: "Installation Instructions",
        name: "Install"
    },
    {
        type: "input",
        message: "Instruction on use of app",
        name: "Usage"
    },
    {
        type: "checkbox",
        message: "Which license are you using",
        name: "License",
        choices: [
            "Apache",
            "MIT",
            "GVL GPL",
            "NONE"
        ]
    },
    {
        type: "input",
        message: "Any Contributors?",
        name: "Contributors"
    },
    {
        type: "input",
        message: "How do you test app?",
        name: "Test"
    },
    {
        type: "input",
        message: "Any Questions?",
        name: "Questions"
    },
    {
        type: "input",
        message: "What is your Github Username?",
        name: "Username"
    },
    {
        type: "input",
        message: "What is your email?",
        name: "Email"
    }
];

//Function to write file
function writeToFile(fileName, data) {
    fs.writeFile(FileName, data, (err) => {
        if (err) {
            throw err;
        }
        console.log("ReadMe was created");
    });
}


// Function to initialize program
function init() {
    inquirer.prompt(questions).then((answers) => {

                const response = generateMarkdown(answers);
                console.log(answers);

                writeToFile("README.md", response);